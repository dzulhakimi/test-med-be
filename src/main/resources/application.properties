spring.application.name=BipoCertificateVerificationApplication

# Database Configuration (supports both H2 and PostgreSQL via environment variables)
# For local development: uses H2 by default
# For production: set SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:docudb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}

# PostgreSQL SSL Configuration (required for Supabase)
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.maximum-pool-size=${DB_MAX_POOL_SIZE:5}
spring.datasource.hikari.minimum-idle=${DB_MIN_IDLE:2}
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
upload.dir=${UPLOAD_DIR:./uploads}
spring.servlet.multipart.location=${UPLOAD_DIR:./uploads}

# Supabase Storage Configuration
supabase.url=${SUPABASE_URL:https://vmqihesrybdtxydabbql.supabase.co}
supabase.api.key=${SUPABASE_API_KEY:}
supabase.storage.bucket=${SUPABASE_STORAGE_BUCKET:medical-cert-stor}
supabase.storage.enabled=${SUPABASE_STORAGE_ENABLED:false}

# H2 Console (only enabled in development)
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console

# Data Initialization
spring.sql.init.mode=${SPRING_SQL_INIT_MODE:always}
spring.datasource.initialization-mode=always

# External API Keys (should be set via environment variables in production)
affinda.api.key=${AFFINDA_API_KEY:aff_cd31d298f43464e507f9418bcae8da39f66f6fce}

# CORS Configuration (allow frontend domains)
cors.allowed.origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# Debug
logging.level.org.springframework.security=${LOG_LEVEL:INFO}

